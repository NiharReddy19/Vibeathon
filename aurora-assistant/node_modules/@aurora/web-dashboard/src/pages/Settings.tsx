import { useState } from 'react';

export default function Settings() {
  const [port, setPort] = useState(8080);
  const [token, setToken] = useState('dev-token-12345');
  const [modelPath, setModelPath] = useState('./models/vosk-model-small-en-us-0.15');
  const [autoStart, setAutoStart] = useState(true);
  const [engineStatus] = useState<'running' | 'stopped'>('running');

  const handleSave = () => {
    // In real implementation, this would call the API
    alert('Settings saved! (Mock mode)');
  };

  return (
    <div className="page">
      <div className="page-header">
        <h1>Settings</h1>
      </div>

      <div className="settings-container">
        <section className="settings-section">
          <h2>Engine Configuration</h2>
          
          <div className="form-group">
            <label>Engine Port</label>
            <input
              type="number"
              value={port}
              onChange={e => setPort(Number(e.target.value))}
            />
          </div>

          <div className="form-group">
            <label>Authentication Token</label>
            <input
              type="password"
              value={token}
              onChange={e => setToken(e.target.value)}
            />
          </div>

          <div className="form-group">
            <label>Vosk Model Path</label>
            <input
              type="text"
              value={modelPath}
              onChange={e => setModelPath(e.target.value)}
            />
          </div>

          <div className="form-group">
            <label>
              <input
                type="checkbox"
                checked={autoStart}
                onChange={e => setAutoStart(e.target.checked)}
              />
              Auto-start STT on launch
            </label>
          </div>
        </section>

        <section className="settings-section">
          <h2>Engine Status</h2>
          <div className="status-card">
            <div className="status-row">
              <span>Status:</span>
              <span className={`badge ${engineStatus}`}>{engineStatus}</span>
            </div>
            <div className="status-row">
              <span>URL:</span>
              <span>http://localhost:{port}</span>
            </div>
            <div className="status-row">
              <span>Mock Mode:</span>
              <span className="badge">{import.meta.env.VITE_MOCK_MODE === 'true' ? 'ON' : 'OFF'}</span>
            </div>
          </div>
        </section>

        <div className="form-actions">
          <button onClick={handleSave} className="btn-primary">
            Save Settings
          </button>
        </div>
      </div>
    </div>
  );
}
